<div class="omniview-content">
  <!-- HTML -->
  <div *ngIf="format === 'html'; else markdownOrOther" [innerHTML]="renderedContent"></div>

  <!-- Markdown / Other formats -->
  <ng-template #markdownOrOther>
    <markdown *ngIf="format === 'markdown'; else otherFormats" katex [data]="renderedContent"></markdown>

    <ng-template #otherFormats>
      <json-viewer *ngIf="format === 'json'" [data]="renderedContent"></json-viewer>
      <pre *ngIf="format !== 'json'">{{ renderedContent }}</pre>
    </ng-template>
  </ng-template>
</div>

<ng-template #textBlock>
  <!-- Preserve whitespace only for text-based formats (like: text, json, code) -->
  <!-- and NOT for raw HTML -->
  <div class="omniview-content preserve-whitespace">{{ renderedContent }}</div>
</ng-template>
